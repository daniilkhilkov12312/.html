<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Погода — Нэводари</title>
</head>
<body>

<div id="widget" class="widget clear">
  <div class="city">Нэводари</div>
  <div id="temp" class="temp">--°C</div>
  <div id="desc" class="desc">Загрузка...</div>
  <div id="time" class="time">--:--:--</div>
  
  <!-- Декорации для анимаций -->
  <div id="sun" class="sun"></div>
  <div id="clouds" class="clouds"></div>
  <div id="lightning" class="lightning"></div>
</div>

<script>
// координаты Нэводари
const lat = 44.3167;
const lon = 28.6;

// запрос температуры
fetch(https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true)
  .then(response => response.json())
  .then(data => {
    const temp = Math.round(data.current_weather.temperature);
    document.getElementById("temp").innerText = temp + "°C";
    document.getElementById("desc").innerText = "Погода обновлена";
  })
  .catch(err => {
    document.getElementById("desc").innerText = "Ошибка загрузки";
    console.log("Ошибка fetch:", err);
  });
</script>

</body>
</html>
